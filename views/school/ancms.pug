extends ../layouts/common

block content
    link(rel="stylesheet", href="/styles/cellHover.css")
    script.
      $(function () {
        $('[data-toggle="tooltip"]').tooltip();
      });

    .px-3.pt-3.mb-5.hide
        h1 Announcements
        if (listOfAnnouncements)
          - var listOfAlertName = ['alert-primary', 'alert-secondary', 'alert-success', 'alert-danger', 'alert-warning', 'alert-info',  'alert-light', 'alert-dark']
          each ancm in listOfAnnouncements
            script(type='text/javascript').
                function del(id) {
                  swal({
                    title: "Are you sure?",
                    text: "Once deleted, you will not be able to undo!",
                    icon: "warning",
                    buttons: true,
                    dangerMode: true,
                  }).then((willSave) => {
                    if (willSave) {
                      swal("OK! The announcement has been deleted!", {
                        icon: "success",
                        timer: 1000,
                      }).then(() => {
                        location.href = '/school/deleteANCM/' + id
                      });
                    } else {
                      swal("Let's reconsider!", {
                        icon: 'error',
                        timer: 1000
                      });
                    }
                  });
                  return false;
                  // location.reload();

                }
            - var thisKindOfAlert = Math.floor(Math.random() * 8);
            .alert(class=listOfAlertName[thisKindOfAlert])
                a(href='/school/showThisANCM/' + ancm.id)= ancm.title + ' [' + ancm.when.toLocaleString() + ']'
                if (userInfo.role === 10)
                  button.close(type='button', onclick='del("'+ ancm.id + '")') &times;